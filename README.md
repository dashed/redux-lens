# redux-lens

> Apply a redux reducer and an action at the specified path of your application state tree (i.e. redux store).

## Install

```
$ npm install --save redux-lens
$ yarn add redux-lens
```

## Usage

```js
const {createStore} = require('redux');
const {createReducer, reduceIn} = require('redux-lens');

const defaultReducer = (state) => {
    console.log('defaultReducer called');
    return state;
};

const initialState = {
    foo: {
        bar: {
            baz: [1, 42]
        }
    },
    counter: 9000
};

const reducer = createReducer({
    reducer: defaultReducer
});

const store = createStore(reducer, initialState);

const addReduce = (state = 0, action) => {
    switch(action.type) {
        case 'ADD': {
            return state + 1;
        }
    }

    return state;
};

const addAction = {
    type: 'ADD'
};

store.getState();
// => {
//     foo: {
//         bar: {
//             baz: [1, 42]
//         }
//     },
//     counter: 9000
// };

store.dispatch(reduceIn(['foo', 'bar', 'baz', 1], addReduce, addAction));
// => {
//     foo: {
//         bar: {
//             baz: [1, 43]
//         }
//     },
//     counter: 9000
// };

store.dispatch(reduceIn(['counter'], addReduce, addAction));
// => {
//     foo: {
//         bar: {
//             baz: [1, 43]
//         }
//     },
//     counter: 9001
// };
```

## API

### `createReducer(options)`

```js
options = {
    // Function signature: getter(state, path) => value
    //
    // redux compatible reducer function (optional)
    reducer: fallback_reducer,

    // Function signature: getter(state, path) => value
    //
    // function to get the value at "path" of "state". (optional)
    get: getter,

    // Function signature: setter(state, path, newValue)
    //
    // function to set "newValue" at "path" of "state". (optional)
    set: setter
}
```

Returns a redux reducer function. This reducer consumes actions generated by the `reduceIn` function.

### `reduceIn(path, reducer, action)`

`reduceIn` is an action creator.

- `path`: An array.
- `reducer`: redux reducer function.
- `action`: An action that `reducer` can consume. **Must be [flux standard action (FSA) compliant](https://github.com/acdlite/flux-standard-action).**

License
=======

MIT.
